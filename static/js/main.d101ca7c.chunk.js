(this["webpackJsonpjs-calculator"]=this["webpackJsonpjs-calculator"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var c=n(8),s=n(14),r=n(2),i=n(13),l=n(12),a=n(3),u=n(11),d=n(0),o=n.n(d),h=n(4),b=n.n(h),j=n(7),p=n(15),O=(n(21),n(10)),k=n(1),v="MESSAGES",g="RESULT",f="CLEAR",x={messages:[],result:0,parser:""},H=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).resetHandler=function(){s.props.reset()},s.clickHandler=function(e){s.props.addNewMessage(e.target.value)},s.clickEqualsHandler=function(){s.props.updateResult()},s.resetHandler=s.resetHandler.bind(Object(r.a)(s)),s.clickHandler=s.clickHandler.bind(Object(r.a)(s)),s.clickEqualsHandler=s.clickEqualsHandler.bind(Object(r.a)(s)),s}return Object(s.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsxs)("div",{className:"box-group",children:[Object(k.jsxs)("div",{className:"screen",children:[Object(k.jsx)("div",{id:"formula",children:this.props.messages.join("")+this.props.parser}),Object(k.jsx)("div",{id:"display",children:this.props.result})]}),Object(k.jsx)("button",{id:"clear",onClick:this.resetHandler,children:"AC"}),Object(k.jsx)("button",{id:"divide",onClick:this.clickHandler,value:"/",children:"/"}),Object(k.jsx)("button",{id:"multiply",onClick:this.clickHandler,value:"*",children:"*"}),Object(k.jsx)("button",{id:"seven",onClick:this.clickHandler,value:"7",children:"7"}),Object(k.jsx)("button",{id:"eight",onClick:this.clickHandler,value:"8",children:"8"}),Object(k.jsx)("button",{id:"nine",onClick:this.clickHandler,value:"9",children:"9"}),Object(k.jsx)("button",{id:"add",onClick:this.clickHandler,value:"+",children:"+"}),Object(k.jsx)("button",{id:"four",onClick:this.clickHandler,value:"4",children:"4"}),Object(k.jsx)("button",{id:"five",onClick:this.clickHandler,value:"5",children:"5"}),Object(k.jsx)("button",{id:"six",onClick:this.clickHandler,value:"6",children:"6"}),Object(k.jsx)("button",{id:"subtract",onClick:this.clickHandler,value:"-",children:"-"}),Object(k.jsx)("button",{id:"one",onClick:this.clickHandler,value:"1",children:"1"}),Object(k.jsx)("button",{id:"two",onClick:this.clickHandler,value:"2",children:"2"}),Object(k.jsx)("button",{id:"three",onClick:this.clickHandler,value:"3",children:"3"}),Object(k.jsx)("button",{id:"equals",onClick:this.clickEqualsHandler,children:"="}),Object(k.jsx)("button",{id:"zero",onClick:this.clickHandler,value:"0",children:"0"}),Object(k.jsx)("button",{id:"decimal",onClick:this.clickHandler,value:".",children:"."})]}),Object(k.jsx)("div",{children:Object(k.jsx)("p",{children:"Coded by Yong Xia"})})]})}}]),n}(o.a.Component),C=Object(j.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=Object(u.a)(e.messages),c=e.parser;switch(t.type){case v:return n.includes("=")?e:(c+=t.message,/^[+/*][+/*-]/.test(c)||/^-[+/*]/.test(c)?c=c.substr(1):/^--[+/*-]/.test(c)?c=c.substr(2):/\d+[+*/-]$/.test(c)?(/^[+/*-]/.test(c)&&(n.push(c.charAt(0)),c=c.substring(1)),c.includes(".")?n.push(parseFloat(c.substring(0,c.length-1))):n.push(parseInt(c.substring(0,c.length-1))),c=c.substring(c.length-1)):(/^[^1-9]+0+[1-9]$/.test(c)?c=c.replace(/0+/,""):/^[+*/-]+[^1-9]0+\.$/.test(c)&&(c=c.replace(/0+/,"0")),c.endsWith("..")&&(c=c.replace("..","."))),Object(a.a)(Object(a.a)({},e),{},{messages:n,parser:c}));case g:if(n.includes("="))return e;if(/^[+*/-]/.test(c)&&(n.push(c.charAt(0)),(c=c.substring(1)).length>0&&(c.includes(".")?n.push(parseFloat(c)):n.push(parseInt(c)),c="")),n.length<=1)return e;if(/^[*/]/.test(n[0]))return e;console.log(n);for(var s=Object(u.a)(n);s.includes("*")||s.includes("/");)for(var r=1;r<s.length;){if(/[*|/]/.test(s[r])){var i=s[r-1],l=s[r];if(r+1===s.length){s.splice(r-1,2,i);break}var d=s[r+1],o="*"===l?Math.round(i*d*1e4)/1e4:Math.round(i/d*1e4)/1e4;s.splice(r-1,3,o)}r++,console.log("reduced",s)}for(;s.includes("+")||s.includes("-");)for(var h=1;h<s.length;){if(/[+|-]/.test(s[h])){var b=s[h-1],j=s[h];if(h+1===s.length){s.splice(h-1,2,b);break}var p=s[h+1],O="+"===j?Math.round(1e4*(b+p))/1e4:Math.round(1e4*(b-p))/1e4;s.splice(h-1,3,O)}h++,console.log("reduced",s)}var k=s.reduce((function(e,t){return e+=t}),0);return n.push("=",k),c="",Object(a.a)(Object(a.a)({},e),{},{messages:n,parser:c,result:k});case f:return x;default:return e}}),Object(p.devToolsEnhancer)()),m=Object(O.b)((function(e){return{messages:e.messages,result:e.result,parser:e.parser}}),(function(e){return{addNewMessage:function(t){e(function(e){return{type:v,message:e}}(t))},updateResult:function(){e({type:g})},reset:function(){e({type:f})}}}))(H),y=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){return Object(k.jsx)(O.a,{store:C,children:Object(k.jsx)(m,{})})},e}return n}(o.a.Component);b.a.render(Object(k.jsx)(y,{}),document.getElementById("root"))},21:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.d101ca7c.chunk.js.map